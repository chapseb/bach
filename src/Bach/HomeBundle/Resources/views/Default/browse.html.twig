{% extends '::base.html.twig' %}

{% block css %}
    <link href="{{ asset('css/jquery-ui/jquery.ui.tabs.min.css') }}" type="text/css" rel="stylesheet" media="screen" />
{% endblock %}

{% block container %}
<div id="tabs">
    <ul>
        <li{% if part == 'cSubject' %} class="active"{% endif %}><a href="#cSubject" data-toggle="tab">{% trans %}Subjects{% endtrans %}</a></li>
        <li{% if part == 'cPersname' %} class="active"{% endif %}><a href="#cPersname" data-toggle="tab">{% trans %}Persons{% endtrans %}</a></li>
        <li{% if part == 'cGeogname' %} class="active"{% endif %}><a href="#cGeogname" data-toggle="tab">{% trans %}Places{% endtrans %}</a></li>
    </ul>

    <div id="cSubject">
        <h4>{% trans %}Subjects{% endtrans %}{% if show_all is defined and lists.cSubject is defined %} ({{ lists.cSubject | length }}){% endif %}</h4>
        <section id="list_cSubjects">
        {% if lists.cSubject is defined %}
            <ul>
            {% for cSubject in lists.cSubject %}
                <li><a href="{{ path('bach_search', {filter_field: 'cSubject', filter_value: cSubject.term}) }}">{{ cSubject.term }} ({{ cSubject.count }})</a></li>
            {% endfor %}
            </ul>
        {% endif %}
        </section>
    </div>
    <div id="cPersname">
        <h4>{% trans %}Persons{% endtrans %}{% if show_all is defined and lists.cPersname is defined %} ({{ lists.cPersname | length }}){% endif %}</h4>
        <section id="list_cPersnames">
        {% if lists.cPersname is defined %}
            <ul>
            {% for cPersname in lists.cPersname %}
                <li><a href="{{ path('bach_search', {filter_field: 'cPersname', filter_value: cPersname.term}) }}">{{ cPersname.term }} ({{ cPersname.count }})</a></li>
            {% endfor %}
            </ul>
        {% endif %}
        </section>
    </div>
    <div id="cGeogname">
        <h4>{% trans %}Places{% endtrans %}{% if show_all is defined and lists.cGeogname is defined %} ({{ lists.cGeogname | length }}){% endif %}</h4>
        <section id="list_cGeognames">
        {% if lists.cGeogname is defined %}
            <ul>
            {% for cGeogname in lists.cGeogname %}
                <li><a href="{{ path('bach_search', {filter_field: 'cGeogname', filter_value: cGeogname.term}) }}">{{ cGeogname.term }} ({{ cGeogname.count }})</a></li>
            {% endfor %}
            </ul>
        {% endif %}
        </section>
    </div>
</div>
{% if show_all is not defined %}
<p>{% trans with {'%href%': path('bach_browse', {show_all: 'show_all'})} %}This page displays only the 20 more relevant terms found. You may whish <a href="%href%">to display all terms</a>, but note that it should take a long time to load in your browser.{% endtrans %}</p>
{% endif %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/jquery-ui/jquery.ui.tabs.min.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
        $(function() {
            $('#tabs').tabs();
        });
    </script>
{% endblock %}
