{% extends '::base.html.twig' %}

{% block container %}
    <section id="login">
        <h2>
            {% if is_granted("IS_AUTHENTICATED_OPENID") %}
                logged in via an openid provider:
                <a href="{{ path('fp_openid_security_logout') }}">Logout</a>
            {% else %}
                {% if current_route == 'fp_openid_security_login' %}
                    {% trans %}Login using OpenID{% endtrans %}
                {% else %}
                    <a href="{{ path('fp_openid_security_login') }}">Login</a>
                {% endif %}
            {% endif %}
        </h2>

        {% if current_route == 'fp_openid_security_login' %}
            <p>{% trans %}Be sure you've registered a Bach account.{% endtrans %}</p>
        {% endif %}

        {% for type, messages in app.session.flashbag.all() %}
            {% for message in messages %}
                <div class="flash-{{ type }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <div>
            {% block fp_openid_content %}
            {% endblock fp_openid_content %}
        </div>
    </section>
{% endblock %}
